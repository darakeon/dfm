@using DFM.MVC.Helpers
@model BaseModel

@{
	Layout = "_Master.cshtml";
	var buttonList = (List<Button>)ViewBag.Buttons;
}

<h1>@ViewBag.Title</h1><hr />

@if (!ViewBag.HasContent)
{
	<div class="alert alert-warning text-center">
		@ViewBag.NoContentText
	</div>

	if (buttonList != null)
	{
		<div class="text-center">
			@foreach (var button in buttonList.OrderByDescending(b => b.PullLeft))
			{
				@Html.ActionLink(button.Text, button.Action, null, new {@class = "btn btn-default"})
			}
		</div>
	}

	@* No, it shouldn't be here *@
	<div class="hidden">
		@RenderSection("TableHeader", false)
	</div>
}
else
{
	<div class="well-sm">

		<table class="table table-striped table-hover table-responsive">
			<thead>
				@RenderSection("TableHeader", false)
			</thead>
			<tbody>
				@RenderBody()
			</tbody>
		</table>

	</div>

	if (buttonList != null)
	{
		<div class="text-right">
			@foreach (var button in buttonList)
			{
				var @class = "btn btn-default" + (button.PullLeft ? " pull-left" : "");

				<text>
					@Html.ActionLink(button.Text, button.Action, null, new {@class})
				</text>
			}
		</div>
	}
}
