@model UsersContractModel

@{
	ViewBag.Title = Context.Translate("ContractTitle");
	Layout = "~/Views/Shared/_Form.cshtml";
	ViewBag.FormSizeSm = 12;
	ViewBag.FormSizeLg = 8;

	var canSign = Model.IsAuthenticated && !Model.IsLastContractAccepted;
}

@section Styles {
	<link href="~/Assets/styles/contract.css?v=@Cfg.Version" type="text/css" rel="stylesheet"/>
}

<div class="">

	<div class="contract">
		@await Html.PartialAsync("Clause", Model.Contract[Model.Language])
	</div>

	@if (canSign)
	{
		var text = Context.Translate("ContractAccept");
		var link = Context.Translate("ContractTitle");

		<div class="checkbox text-center form-group">
			<label for="@Html.IdFor(m => m.Accept)">
				@Html.CheckBoxFor(m => m.Accept)
				@String.Format(text, link)
			</label>
		</div>
	}
</div>


@section Footer {
	<span class="@(canSign ? "pull-left text-left" : "")">
		@Context.Translate("ContractBeginDate")<br />
		@Model.Contract.BeginDate.ToShortDateString()
	</span>

	@if (canSign)
	{
		<button class="btn btn-success">@Context.Translate("Accept")</button>
	}
}
